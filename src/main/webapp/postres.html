<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lur√≠a | Nuestros Postres</title>

    <link
            href="https://fonts.googleapis.com/css2?family=Shippori+Mincho+B1:wght@400;500;600;700&family=Montserrat:wght@400;500;600&display=swap"
            rel="stylesheet">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/cards.css">
    <link rel="icon" href="https://luriaburgers.s3.us-east-1.amazonaws.com/fondos_recursos/flor.png" type="image/png">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&display=swap');
    </style>

    <script>
        async function obtenerPostres() {
        try {
        const response = await fetch("control?action=getPostres");
        const data = await response.json();
        const container = document.querySelector('.cards-container');
        container.innerHTML = '';

        const s3BaseUrl = "https://luriaburgers.s3.us-east-1.amazonaws.com/";

        if (data.length > 0) {
        data.forEach(postre => {
        const card = document.createElement('div');
        card.classList.add('card');

        const imagenSrc = `${s3BaseUrl}menu/cards_postres_animacion/${postre.imagen_png}`;
        console.log("Intentando cargar imagen desde:", imagenSrc);

        card.innerHTML = `
        <img src="${imagenSrc}" alt="${postre.nombre}">
        <div class="card-info">
        <h2>${postre.nombre}</h2>
        <button class="add-to-cart-button" onclick="agregarAlCarrito(${postre.id}, 'postre')">
        Add to cart - S/ ${postre.precio.toFixed(2)}
        </button>
        </div>
        `;
        container.appendChild(card);
        });
        } else {
        container.innerHTML = '<p>No se encontraron postres.</p>';
        }
        } catch (error) {
        console.error('Error al obtener los postres:', error);
        container.innerHTML = '<p>Error al cargar los postres.</p>';
        }
        }

        document.addEventListener('DOMContentLoaded', obtenerPostres);
    </script>
</head>

<body>

<div class="top-overlay"></div>

<div class="corner-links">
    <a href="login.html" class="corner-link">
        <img src="https://luriaburgers.s3.us-east-1.amazonaws.com/fondos_recursos/login.png" alt="Login">
    </a>
    <a href="carrito.html" class="corner-link">
        <img src="https://luriaburgers.s3.us-east-1.amazonaws.com/fondos_recursos/carrito.png" alt="Carrito">
    </a>
</div>

<div class="menu-container-wrapper">
    <button class="menu-arrow menu-arrow-left" id="menuArrowLeft"></button>
    <nav class="menu-container" id="menuContainer">
        <a href="hamburguesas.html" class="menu-item"><img src="https://luriaburgers.s3.us-east-1.amazonaws.com/nav_icons/hamburguesas.png"
                                                           alt="Hamburguesas">
            <div class="menu-background"></div>
        </a>
        <a href="guarniciones.html" class="menu-item"><img src="https://luriaburgers.s3.us-east-1.amazonaws.com/nav_icons/complementos.png"
                                                           alt="Complementos">
            <div class="menu-background"></div>
        </a>
        <a href="postres.html" class="menu-item active"><img src="https://luriaburgers.s3.us-east-1.amazonaws.com/nav_icons/postres.png" alt="Postres">
            <div class="menu-background"></div>
        </a>
        <a href="bebidas.html" class="menu-item"><img src="https://luriaburgers.s3.us-east-1.amazonaws.com/nav_icons/bebidas.png" alt="Bebidas">
            <div class="menu-background"></div>
        </a>
    </nav>
    <button class="menu-arrow menu-arrow-right" id="menuArrowRight"></button>
</div>

<div style="height: 25vh; width: 5vh;"></div>

<div class="cards-wrapper">
    <div class="cards-container">
    </div>
</div>

</body>

</html>