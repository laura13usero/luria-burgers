<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Hamburguesas</title>
    <script>
        async function obtenerHamburguesas() {
          try {
            const response = await fetch("control?action=getHamburguesasJSON"); // ðŸ‘ˆ NO barra inicial
            const data = await response.json();
            const hamburguesasContainer = document.getElementById('hamburguesas-list');
            hamburguesasContainer.innerHTML = '';

            if (data.length > 0) {
              data.forEach(hamburguesa => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `
                  <strong>${hamburguesa.nombre}</strong> - ${hamburguesa.descripcion || ''}
                  <form action="control" method="post" style="margin-top: 10px;">
                    <input type="hidden" name="action" value="addToCart">
                    <input type="hidden" name="idProducto" value="${hamburguesa.id}">
                    <input type="hidden" name="tipoProducto" value="hamburguesa">
                    <button type="submit">Add to cart for: $${hamburguesa.precio}</button>
                  </form>
                `;
                hamburguesasContainer.appendChild(listItem);
              });
            } else {
              hamburguesasContainer.innerHTML = '<p>No hay hamburguesas disponibles.</p>';
            }
          } catch (error) {
            console.error('Error al obtener hamburguesas:', error);
          }
        }

        document.addEventListener('DOMContentLoaded', obtenerHamburguesas);
    </script>
</head>
<body>
<h1>Hamburguesas disponibles</h1>
<ul id="hamburguesas-list"></ul>

<button onclick="window.location.href = 'index.html'" style="margin-top: 10px;">Volver a inicio</button>
<button onclick="window.location.href = 'carrito.html'" style="margin-top: 10px;">Ver carrito</button>
</body>
</html>
